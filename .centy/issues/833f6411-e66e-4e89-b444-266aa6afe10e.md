---
displayNumber: 149
status: in-progress
priority: 2
createdAt: 2026-02-22T17:00:00.000000+00:00
updatedAt: 2026-02-22T16:39:25.190655+00:00
---

# Implement MAX_NESTING_DEPTH lint

## Overview

Implement a `MAX_NESTING_DEPTH` Dylint lint that enforces a maximum nesting depth for control flow structures (e.g., `if`, `match`, `for`, `while`, `loop`, closures).

## Tasks

- Implement the lint in a new Dylint lint crate (or extend an existing one)
- Detect code blocks that exceed a configurable maximum nesting depth
- Write UI tests covering detection at various nesting levels and allowed cases
- Ensure the lint passes `cargo clippy`, `cargo fmt`, and `cargo test`

## Notes

- Default maximum nesting depth should be configurable (e.g., default of 3 or 4)
- Count nesting depth across: `if`/`else`, `match`, `for`, `while`, `loop`, closures, and block expressions
- Deep nesting is a code smell that makes code harder to read and maintain
- Related clippy lints: `clippy::cognitive_complexity`

## Acceptance Criteria

- Lint correctly detects control flow nesting beyond the configured maximum
- The maximum depth is configurable via lint attributes or workspace settings
- False positives are handled (lint does not fire on allowed code)
- UI test `.stderr` file matches actual output

---
displayNumber: 150
status: closed
priority: 2
createdAt: 2026-02-24T12:35:09.659747+00:00
updatedAt: 2026-02-25T22:28:48.872978+00:00
---

# Enforce tests in separate <X>_tests.rs files

## Overview

Tests should be placed in dedicated `<X>_tests.rs` files rather than inline in the same file as the logic. Mixing test modules (`#[cfg(test)] mod tests { ... }`) with production code in the same file reduces readability and separation of concerns.

## Tasks

- Identify all lint crates that currently mix logic and tests in the same file
- Move any inline test modules into separate `<X>_tests.rs` files (e.g., `lib_tests.rs` alongside `lib.rs`)
- Ensure each `<X>_tests.rs` file is declared with `#[cfg(test)] mod <X>_tests;` or similar in the parent module
- Verify all tests still pass after the restructure

## Acceptance Criteria

- No source file contains both production logic and `#[cfg(test)]` test modules
- All tests live in dedicated `*_tests.rs` files
- `cargo test` passes across all lint crates
